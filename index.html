<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>The Home Depot | Atrapa las herramientas</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;700&amp;display=swap"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/>
    <link rel="stylesheet" href="app/app.css"/>
  </head>
  <body>
    <div class="urlerror">Verifica tu URL e intenta de nuevo.</div>
    <div class="container">
      <header>
        <div class="middlebar"></div>
        <h1 class="animate__animated animate__fadeInDownBig"><img src="app/thehomedepot.svg"/></h1>
      </header>
      <!--section.start.text-center.mt-2.animate__animated.animate__bounceIn
      p.small En caso de resultar ganador, por favor indica el certificado electrónico que quisieras ganar.
      h2.h1 Atrapa las Herramientas
      p Selecciona tu certificado de valor indicado
      -->
      <section class="mt-2">
        <div class="certificados container">
          <div class="start text-center mt-2 animate__animated animate__bounceIn">
            <p class="small">En caso de resultar ganador, por favor indica el certificado electrónico que quisieras ganar.</p>
            <h2 class="h1">Atrapa las Herramientas</h2>
            <p>Selecciona tu certificado de valor indicado</p>
          </div>
          <div class="row justify-content-center align-items-center flex-wrap">
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="xbox" title="Xbox"><img class="img-fluid" src="app/cert/xbox.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="xboxlive" title="Xbox Live"><img class="img-fluid" src="app/cert/xboxlive.png" alt="Itunes"/>
                <div class="valor">$169</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="playstation" title="PlayStation Store"><img class="img-fluid" src="app/cert/playstation.png" alt="Itunes"/>
                <div class="valor">$10 USD</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="spotify" title="Spotify Premium"><img class="img-fluid" src="app/cert/spotify.png" alt="Itunes"/>
                <div class="valor">$100</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="itunes" title="iTunes México (App Store)"><img class="img-fluid" src="app/cert/itunes.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="wow" title="Starbucks"><img class="img-fluid" src="app/cert/wow.png" alt="Itunes"/>
                <div class="valor">$250</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="wow" title="Dominos Pizza, Burger King, California Pizza Kitchen, PF Chang’s, Italianni's, Chili’s, The Cheesecake Factory, Vips y El Portón"><img class="img-fluid" src="app/cert/wow.png" alt="Itunes"/>
                <div class="valor">$250</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="uber" title="Uber y UberEats"><img class="img-fluid" src="app/cert/uber.png" alt="Itunes"/>
                <div class="valor">$150</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="amazon" title="Amazon"><img class="img-fluid" src="app/cert/amazon.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="facturafiel" title="FacturaFiel"><img class="img-fluid" src="app/cert/facturafiel.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="superdoctor" title="Súper Doctor"><img class="img-fluid" src="app/cert/superdoctor.png" alt="Itunes"/>
                <div class="valor">$240</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="cinepolis" title="Cinépolis Klic"><img class="img-fluid" src="app/cert/cinepolis.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="mixup" title="Mixup"><img class="img-fluid" src="app/cert/mixup.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="enviaflores" title="enviaflores.com"><img class="img-fluid" src="app/cert/enviaflores.png" alt="Itunes"/>
                <div class="valor">$250</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="gandhi" title="Librerías Gandhi"><img class="img-fluid" src="app/cert/gandhi.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
            <div class="col-md-2 col-4">
              <div class="certificado animate__animated animate__bounceIn" data="puntosfutbol" title="Puntos Fútbol"><img class="img-fluid" src="app/cert/puntosfutbol.png" alt="Itunes"/>
                <div class="valor">$200</div>
              </div>
            </div>
          </div>
          <!--
          .col-md-2.col-4: div(data="googleplay ").certificado.animate__animated.animate__bounceIn
              img(src="app/c-googleplay.png", alt="Google Play").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="uber").certificado.animate__animated.animate__bounceIn
              img(src="app/c-uber.png", alt="Uber").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="coppel").certificado.animate__animated.animate__bounceIn
              img(src="app/c-coppel.png", alt="Coppel").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="bestbuy").certificado.animate__animated.animate__bounceIn
              img(src="app/c-bestbuy.png", alt="Best Buy").img-fluid
              div.valor $000
          -->
          <!--.row.justify-content-center.align-items-center.flex-wrap
          .col-md-2.col-4: div(data="nintendo").certificado.animate__animated.animate__bounceIn
              img(src="app/c-nintendo.png", alt="Nintendo").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="youtube").certificado.animate__animated.animate__bounceIn
              img(src="app/c-youtube.png", alt="YouTube").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="spotify").certificado.animate__animated.animate__bounceIn
              img(src="app/c-spotify.png", alt="Spotify").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="xbox").certificado.animate__animated.animate__bounceIn
              img(src="app/c-xbox.png", alt="XBox").img-fluid
              div.valor $000
          .col-md-2.col-4: div(data="blim").certificado.animate__animated.animate__bounceIn
              img(src="app/c-blim.png", alt="Blim").img-fluid
              div.valor $000
          -->
        </div>
      </section>
    </div>
    <!--.container: section.row.comenzar
    .col-12.text-center: button.btncomenzar(disabled).animate__animated JUGAR
    
    -->
    <div class="gamecontainer hidden">
      <iframe></iframe>
    </div>
    <div class="gameend hidden">
      <div class="text-center">
        <h1 class="animate__animated animate__fadeInDownBig"><img src="app/thehomedepot.svg"/></h1>
        <div class="h2">¡Gracias por participar!</div>
        <div>Si eres uno de los ganadores te contactaremos al correo electrónico o teléfono registrado.</div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.0/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/2.5.3/url.min.js"></script>
    <script>
      let certificate = null
      let sound = new Howl({src: ['app/coin.mp3']})
      let SurveyID = url('?SurveyID')
      $(document).ready(function () {
          
          if(SurveyID==undefined || SurveyID.length!=14){
              $('.urlerror').addClass('active')
              return false
          }
      
          //Select Certificate
          $('.certificado').click(function () {
              $('.certificado.active').removeClass('active')
              $('.certificado.animate__heartBeat').removeClass('animate__heartBeat')
              $('.certificado.animate__bounceIn').removeClass('animate__bounceIn')
              $('.certificado').removeClass('animate__delay-3s')
              $('.certificado').removeClass('')
              $(this).addClass('active animate__heartBeat')
              sound.play()
              certificate = $(this).attr('data')
              if(certificate!=null){
                  //$('.btncomenzar').prop('disabled',false)
                  //$('.btncomenzar').addClass('animate__zoomIn')
                  $('.gamecontainer').removeClass('hidden')
                  $('iframe').attr('src', 'thd/index.html')
                  
              }
          })
          $('.btncomenzar').click(function () {
              $('.gamecontainer').removeClass('hidden')
              $('iframe').attr('src', 'thd/index.html')
          })
      })
      
      function closeGame(){
          certificate=null
          $('.gamecontainer').addClass('hidden')
          $('iframe').attr('src', '')
      }
      
      window.addEventListener('message', function (ev){
          
          let thescore = JSON.parse(ev.data)
      
      
          if(thescore.score){
              var finalscoreval = thescore.score._value
              var tools = thescore.tools._children
              var rocks = thescore.rocks._value
              var toolstring = 'A='+tools.A._value+'&B='+tools.B._value+'&C='+tools.C._value+'&D='+tools.D._value+'&E='+tools.E._value+'&rocas='+rocks
      
              $.ajax({
                  url: 'https://testing4.myblueengine.com/WebSiteHomeDepot/Services.aspx/SaveData',
                  data: JSON.stringify({ SurveyID: SurveyID, Certificate: certificate, Result: finalscoreval.toString(), Desglose: toolstring}),
                  contentType: "application/json; charset=utf-8",
                  datatype: "json",
                  type: "post",
                  success: function (response) {
                      setTimeout(function () {
                          //$('.gameend').removeClass('hidden')
                          window.location.href = 'https://homedepot.com.mx/'
                      }, 6000)
                  }, error: function (err){
                      console.log('Ocurrió un error')
                      console.log(err)
                  }
              });
          } else {
      
              closeGame()
      
          }
      
              
          
      })
    </script>
  </body>
</html>